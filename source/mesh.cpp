module mesh;

Mesh *createCubeMesh()
{
    auto mesh = new Mesh();

    auto f = [](Vector3 vector) { return (vector - Vector3::One / 2) * 0.5f; };

    mesh->vertexBuffer = new VertexBuffer();

    // clang-format off
    mesh->vertexBuffer->vertices = 
    {
        {f({1, 1, 1}), { 0, 1, 0}, {0.00f, 0.0f}},
        {f({1, 1, 0}), { 0, 1, 0}, {0.00f, 0.5f}},
        {f({0, 1, 0}), { 0, 1, 0}, {0.33f, 0.5f}},
        {f({0, 1, 1}), { 0, 1, 0}, {0.33f, 0.0f}},
         
        {f({1, 0, 1}), { 1, 0, 0}, {0.33f, 0.0f}},
        {f({1, 0, 0}), { 1, 0, 0}, {0.33f, 0.5f}},
        {f({1, 1, 0}), { 1, 0, 0}, {0.66f, 0.5f}}, 
        {f({1, 1, 1}), { 1, 0, 0}, {0.66f, 0.0f}},

        {f({0, 0, 1}), { 0,-1, 0}, {0.00f, 0.5f}},
        {f({0, 0, 0}), { 0,-1, 0}, {0.00f, 1.0f}}, 
        {f({1, 0, 0}), { 0,-1, 0}, {0.33f, 1.0f}},
        {f({1, 0, 1}), { 0,-1, 0}, {0.33f, 0.5f}},

        {f({0, 1, 1}), {-1, 0, 0}, {0.33f, 0.5f}},
        {f({0, 1, 0}), {-1, 0, 0}, {0.33f, 1.0f}},
        {f({0, 0, 0}), {-1, 0, 0}, {0.66f, 1.0f}},
        {f({0, 0, 1}), {-1, 0, 0}, {0.66f, 0.5f}},

        {f({1, 1, 0}), { 0, 0,-1}, {1.00f, 0.5f}}, 
        {f({1, 0, 0}), { 0, 0,-1}, {1.00f, 1.0f}},
        {f({0, 0, 0}), { 0, 0,-1}, {0.66f, 1.0f}},
        {f({0, 1, 0}), { 0, 0,-1}, {0.66f, 0.5f}},

        {f({1, 0, 1}), { 0, 0, 1}, {1.00f, 0.0f}},
        {f({1, 1, 1}), { 0, 0, 1}, {1.00f, 0.5f}},
        {f({0, 1, 1}), { 0, 0, 1}, {0.66f, 0.5f}},  

        {f({0, 0, 1}), { 0, 0, 1}, {0.66f, 0.0f}} 
    };
    // clang-format on

    mesh->vertexBuffer->Load();

    // clang-format off
    mesh->indices =     
    {
        0, 1, 2, 0, 2, 3, 
        4, 5, 6, 4, 6, 7,   
        8, 9, 10, 8, 10, 11,    
        12, 13, 14, 12, 14, 15,   
        16, 17, 18, 16, 18, 19,  
        20, 21, 22, 20, 22, 23 
    };
    // clang-format on

    mesh->indexBuffer = new IndexBuffer();
    mesh->indexBuffer->indices = mesh->indices;
    mesh->indexBuffer->Load();

    return mesh;
}
